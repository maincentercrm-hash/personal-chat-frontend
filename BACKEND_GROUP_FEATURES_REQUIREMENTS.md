# Backend Requirements: Group Features

**‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠:** 2025-11-28
**‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå:** Role Management (#7) ‡πÅ‡∏•‡∏∞ Activity Log (#9)
**‡∏à‡∏∏‡∏î‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå:** ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡∏£‡∏∞‡∏ö‡∏∏‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà Backend ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÉ‡∏´‡∏°‡πà

---

## üìã ‡∏™‡∏£‡∏∏‡∏õ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå

### #7: Role Management (‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å)
- ‚úÖ Promote ‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÄ‡∏õ‡πá‡∏ô Admin
- ‚úÖ Demote Admin ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ
- ‚úÖ ‡πÇ‡∏≠‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏Å‡∏•‡∏∏‡πà‡∏° (Transfer Ownership)
- ‚úÖ ‡∏•‡∏ö‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏Å‡∏•‡∏∏‡πà‡∏°
- ‚úÖ ‡∏£‡∏∞‡∏ö‡∏ö Permission-based Actions

### #9: Activity Log (‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏Å‡∏•‡∏∏‡πà‡∏°)
- ‚úÖ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ó‡∏∏‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡πÉ‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏°
- ‚úÖ ‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°/‡∏•‡∏ö‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å
- ‚úÖ ‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á role
- ‚úÖ ‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏•‡∏∏‡πà‡∏°
- ‚úÖ Real-time updates ‡∏ú‡πà‡∏≤‡∏ô WebSocket

---

## #7: Role Management - Backend Requirements

### ‚úÖ API Endpoints ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ

#### 1. Update Member Role
```http
PUT /api/groups/{groupId}/members/{userId}/role
Content-Type: application/json
Authorization: Bearer {token}

Request Body:
{
  "role": "admin" | "member"
}

Success Response (200):
{
  "success": true,
  "data": {
    "groupId": "group_123",
    "userId": "user_789",
    "role": "admin",
    "updatedAt": "2024-01-01T10:00:00Z"
  }
}

Error Responses:
- 403 Forbidden: "Only owner can promote/demote admins"
- 404 Not Found: "User not found in group"
- 400 Bad Request: "Cannot demote owner"
```

**Backend ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö:**
- [ ] API endpoint ‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á?
- [ ] Permission validation: ‡πÄ‡∏â‡∏û‡∏≤‡∏∞ owner ‡∏ñ‡∏∂‡∏á‡∏à‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô role ‡πÑ‡∏î‡πâ
- [ ] ‡∏´‡πâ‡∏≤‡∏° demote owner (‡∏ï‡πâ‡∏≠‡∏á transfer ownership ‡∏Å‡πà‡∏≠‡∏ô)
- [ ] ‡∏´‡πâ‡∏≤‡∏° promote/demote ‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á
- [ ] Response format ‡∏ï‡∏£‡∏á‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?

---

#### 2. Transfer Group Ownership
```http
POST /api/groups/{groupId}/transfer-ownership
Content-Type: application/json
Authorization: Bearer {token}

Request Body:
{
  "newOwnerId": "user_456"
}

Success Response (200):
{
  "success": true,
  "data": {
    "groupId": "group_123",
    "oldOwnerId": "user_789",
    "newOwnerId": "user_456",
    "transferredAt": "2024-01-01T10:00:00Z"
  }
}

Error Responses:
- 403 Forbidden: "Only owner can transfer ownership"
- 404 Not Found: "Target user not in group"
- 400 Bad Request: "Cannot transfer to yourself"
```

**Backend ‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥:**
- [ ] API endpoint ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö transfer ownership
- [ ] Validation: ‡πÄ‡∏â‡∏û‡∏≤‡∏∞ owner ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÇ‡∏≠‡∏ô‡πÑ‡∏î‡πâ
- [ ] ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏≠‡∏ô‡πÅ‡∏•‡πâ‡∏ß:
  - [ ] owner ‡πÄ‡∏î‡∏¥‡∏° ‚Üí ‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô admin
  - [ ] owner ‡πÉ‡∏´‡∏°‡πà ‚Üí ‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô owner
- [ ] ‡∏´‡πâ‡∏≤‡∏°‡πÇ‡∏≠‡∏ô‡πÉ‡∏´‡πâ‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á
- [ ] ‡∏´‡πâ‡∏≤‡∏°‡πÇ‡∏≠‡∏ô‡πÉ‡∏´‡πâ‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏°

---

#### 3. Remove Member from Group
```http
DELETE /api/groups/{groupId}/members/{userId}
Authorization: Bearer {token}

Success Response (200):
{
  "success": true,
  "data": {
    "groupId": "group_123",
    "removedUserId": "user_456",
    "removedBy": "user_789",
    "removedAt": "2024-01-01T10:00:00Z"
  }
}

Error Responses:
- 403 Forbidden: "No permission to remove members"
- 400 Bad Request: "Cannot remove owner"
- 404 Not Found: "User not found in group"
```

**Backend ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö:**
- [ ] API endpoint ‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á?
- [ ] Permission rules:
  - [ ] Owner ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏•‡∏ö admin ‡πÅ‡∏•‡∏∞ member ‡πÑ‡∏î‡πâ
  - [ ] Admin ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏•‡∏ö member ‡πÑ‡∏î‡πâ (‡πÅ‡∏ï‡πà‡∏•‡∏ö admin ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ)
  - [ ] Member ‡∏•‡∏ö‡πÉ‡∏Ñ‡∏£‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ
- [ ] ‡∏´‡πâ‡∏≤‡∏°‡∏•‡∏ö owner (‡∏ï‡πâ‡∏≠‡∏á transfer ownership ‡∏´‡∏£‡∏∑‡∏≠ delete group)
- [ ] ‡∏´‡πâ‡∏≤‡∏°‡∏•‡∏ö‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á (‡πÉ‡∏ä‡πâ leave group ‡πÅ‡∏ó‡∏ô)

---

### ‚úÖ Permission Validation Rules

**Backend ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ logic ‡∏ô‡∏µ‡πâ:**

```typescript
// Permission matrix
const PERMISSIONS = {
  owner: {
    promoteToAdmin: true,
    demoteAdmin: true,
    removeMember: true,
    removeAdmin: true,
    editGroupInfo: true,
    deleteGroup: true,
    transferOwnership: true
  },
  admin: {
    promoteToAdmin: false,      // ‚ùå Only owner
    demoteAdmin: false,          // ‚ùå Only owner
    removeMember: true,          // ‚úÖ Can remove members only
    removeAdmin: false,          // ‚ùå Cannot remove other admins
    editGroupInfo: true,
    deleteGroup: false,
    transferOwnership: false
  },
  member: {
    // ‚ùå No admin permissions
    promoteToAdmin: false,
    demoteAdmin: false,
    removeMember: false,
    removeAdmin: false,
    editGroupInfo: false,
    deleteGroup: false,
    transferOwnership: false
  }
}
```

**Backend ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ä‡πá‡∏Ñ:**
- [ ] ‡∏°‡∏µ middleware/function ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏ä‡πá‡∏Ñ permission ‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á?
- [ ] ‡∏ó‡∏∏‡∏Å API ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö role management ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ permission check
- [ ] Return 403 Forbidden ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå
- [ ] Log ‡∏ó‡∏∏‡∏Å action ‡πÄ‡∏û‡∏∑‡πà‡∏≠ security audit

---

### ‚úÖ WebSocket Events

**Backend ‡∏ï‡πâ‡∏≠‡∏á broadcast events ‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏µ‡πâ:**

#### Event: Member Role Changed
```json
{
  "event": "group.member.role_changed",
  "data": {
    "groupId": "group_123",
    "userId": "user_789",
    "oldRole": "member",
    "newRole": "admin",
    "changedBy": "user_456",
    "changedAt": "2024-01-01T10:00:00Z"
  }
}
```

**‡∏™‡πà‡∏á‡∏ñ‡∏∂‡∏á:** ‡∏ó‡∏∏‡∏Å‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÉ‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏°

---

#### Event: Ownership Transferred
```json
{
  "event": "group.ownership_transferred",
  "data": {
    "groupId": "group_123",
    "oldOwnerId": "user_456",
    "newOwnerId": "user_789",
    "transferredAt": "2024-01-01T10:00:00Z"
  }
}
```

**‡∏™‡πà‡∏á‡∏ñ‡∏∂‡∏á:** ‡∏ó‡∏∏‡∏Å‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÉ‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏°

---

#### Event: Member Removed
```json
{
  "event": "group.member.removed",
  "data": {
    "groupId": "group_123",
    "removedUserId": "user_456",
    "removedBy": "user_789",
    "removedAt": "2024-01-01T10:00:00Z"
  }
}
```

**‡∏™‡πà‡∏á‡∏ñ‡∏∂‡∏á:**
- ‡∏ó‡∏∏‡∏Å‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÉ‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏° (‡∏£‡∏ß‡∏° user ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏•‡∏ö)
- User ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏•‡∏ö‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö event ‡πÄ‡∏û‡∏∑‡πà‡∏≠ update UI

---

**Backend ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ä‡πá‡∏Ñ:**
- [ ] WebSocket server ‡∏°‡∏µ‡∏Å‡∏≤‡∏£ broadcast events ‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏µ‡πâ‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á?
- [ ] Event format ‡∏ï‡∏£‡∏á‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?
- [ ] ‡∏™‡πà‡∏á‡πÑ‡∏õ‡∏ñ‡∏∂‡∏á‡∏ó‡∏∏‡∏Å‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÉ‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?
- [ ] ‡∏°‡∏µ‡∏Å‡∏≤‡∏£ handle error ‡∏Å‡∏£‡∏ì‡∏µ‡∏™‡πà‡∏á event ‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?

---

### ‚úÖ Database Schema

**Backend ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤ `group_members` table ‡∏°‡∏µ column ‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏µ‡πâ:**

```sql
CREATE TABLE group_members (
  id VARCHAR(255) PRIMARY KEY,
  group_id VARCHAR(255) NOT NULL,
  user_id VARCHAR(255) NOT NULL,
  role ENUM('owner', 'admin', 'member') NOT NULL DEFAULT 'member',
  joined_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,

  FOREIGN KEY (group_id) REFERENCES groups(id) ON DELETE CASCADE,
  FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
  UNIQUE KEY unique_group_user (group_id, user_id)
);
```

**‡πÄ‡∏ä‡πá‡∏Ñ:**
- [ ] ‡∏°‡∏µ column `role` ‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á?
- [ ] `role` ‡πÄ‡∏õ‡πá‡∏ô enum('owner', 'admin', 'member') ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?
- [ ] ‡∏°‡∏µ constraint ‡∏´‡πâ‡∏≤‡∏°‡∏°‡∏µ user ‡∏ã‡πâ‡∏≥‡πÉ‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?
- [ ] ‡∏°‡∏µ‡∏Å‡∏≤‡∏£ index group_id ‡πÅ‡∏•‡∏∞ user_id ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?

---

## #9: Activity Log - Backend Requirements

### ‚úÖ Database Schema

**Backend ‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á table ‡πÉ‡∏´‡∏°‡πà:**

```sql
CREATE TABLE group_activities (
  id VARCHAR(255) PRIMARY KEY,
  group_id VARCHAR(255) NOT NULL,
  type VARCHAR(100) NOT NULL,
  actor_id VARCHAR(255) NOT NULL,      -- ‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏≥ action
  target_id VARCHAR(255),                -- ‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏Å‡∏£‡∏∞‡∏ó‡∏≥ (optional)
  old_value JSON,                        -- ‡∏Ñ‡πà‡∏≤‡πÄ‡∏Å‡πà‡∏≤ (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç)
  new_value JSON,                        -- ‡∏Ñ‡πà‡∏≤‡πÉ‡∏´‡∏°‡πà
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,

  FOREIGN KEY (group_id) REFERENCES groups(id) ON DELETE CASCADE,
  FOREIGN KEY (actor_id) REFERENCES users(id) ON DELETE SET NULL,
  FOREIGN KEY (target_id) REFERENCES users(id) ON DELETE SET NULL,

  INDEX idx_group_created (group_id, created_at DESC)
);
```

**‡πÄ‡∏ä‡πá‡∏Ñ:**
- [ ] Table `group_activities` ‡∏°‡∏µ‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á?
- [ ] ‡∏°‡∏µ column ‡∏Ñ‡∏£‡∏ö‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?
- [ ] ‡∏°‡∏µ index ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö query ‡∏ï‡∏≤‡∏° group_id + created_at ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?
- [ ] Foreign keys ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?

---

### ‚úÖ Activity Types

**Backend ‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö activity types ‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏µ‡πâ:**

```typescript
enum GroupActivityType {
  // Group lifecycle
  GROUP_CREATED = 'group_created',
  GROUP_DELETED = 'group_deleted',

  // Group info changes
  GROUP_NAME_CHANGED = 'group_name_changed',
  GROUP_DESCRIPTION_CHANGED = 'group_description_changed',
  GROUP_AVATAR_CHANGED = 'group_avatar_changed',

  // Member changes
  MEMBER_ADDED = 'member_added',
  MEMBER_REMOVED = 'member_removed',
  MEMBER_LEFT = 'member_left',
  MEMBER_JOINED = 'member_joined',

  // Role changes
  MEMBER_PROMOTED = 'member_promoted',        // member ‚Üí admin
  MEMBER_DEMOTED = 'member_demoted',          // admin ‚Üí member
  OWNERSHIP_TRANSFERRED = 'ownership_transferred'
}
```

**‡πÄ‡∏ä‡πá‡∏Ñ:**
- [ ] Backend ‡∏°‡∏µ enum/constant ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö activity types ‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á?
- [ ] ‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å type ‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?

---

### ‚úÖ API Endpoint

```http
GET /api/groups/{groupId}/activities
Authorization: Bearer {token}
Query Parameters:
  - limit: number (default: 20, max: 100)
  - offset: number (default: 0)
  - type: string (optional, filter by activity type)

Success Response (200):
{
  "success": true,
  "data": {
    "activities": [
      {
        "id": "act_123",
        "type": "member_promoted",
        "actor": {
          "id": "user_456",
          "name": "John Doe",
          "avatar": "https://..."
        },
        "target": {
          "id": "user_789",
          "name": "Jane Smith",
          "avatar": "https://..."
        },
        "oldValue": "member",
        "newValue": "admin",
        "createdAt": "2024-01-01T10:00:00Z"
      },
      {
        "id": "act_124",
        "type": "group_name_changed",
        "actor": {
          "id": "user_456",
          "name": "John Doe",
          "avatar": "https://..."
        },
        "oldValue": "Old Group Name",
        "newValue": "New Group Name",
        "createdAt": "2024-01-01T09:30:00Z"
      }
    ],
    "pagination": {
      "total": 45,
      "limit": 20,
      "offset": 0,
      "hasMore": true
    }
  }
}
```

**Backend ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ä‡πá‡∏Ñ:**
- [ ] API endpoint ‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á?
- [ ] ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö pagination (limit, offset) ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?
- [ ] ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö filter by type ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?
- [ ] Response format ‡∏ï‡∏£‡∏á‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?
- [ ] ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏à‡∏≤‡∏Å‡πÉ‡∏´‡∏°‡πà‡∏™‡∏∏‡∏î‡πÑ‡∏õ‡πÄ‡∏Å‡πà‡∏≤‡∏™‡∏∏‡∏î (DESC) ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?
- [ ] Include user info (actor, target) ‡∏´‡∏£‡∏∑‡∏≠ return ‡πÅ‡∏Ñ‡πà userId?

---

### ‚úÖ Auto-Logging Activities

**Backend ‡∏ï‡πâ‡∏≠‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å activity ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏ó‡∏≥‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏µ‡πâ:**

#### 1. ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏•‡∏∏‡πà‡∏°
```typescript
await logGroupActivity({
  groupId: newGroup.id,
  type: 'group_created',
  actorId: creatorUserId,
  targetId: null
});
```

#### 2. ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å
```typescript
await logGroupActivity({
  groupId: group.id,
  type: 'member_added',
  actorId: currentUserId,
  targetId: newMemberId
});
```

#### 3. ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏•‡∏ö‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å
```typescript
await logGroupActivity({
  groupId: group.id,
  type: 'member_removed',
  actorId: currentUserId,
  targetId: removedUserId
});
```

#### 4. ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏≠‡∏≠‡∏Å‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÄ‡∏≠‡∏á
```typescript
await logGroupActivity({
  groupId: group.id,
  type: 'member_left',
  actorId: userId,
  targetId: userId  // actor ‡πÅ‡∏•‡∏∞ target ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô
});
```

#### 5. ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô role
```typescript
await logGroupActivity({
  groupId: group.id,
  type: 'member_promoted',  // ‡∏´‡∏£‡∏∑‡∏≠ 'member_demoted'
  actorId: currentUserId,
  targetId: targetUserId,
  oldValue: 'member',
  newValue: 'admin'
});
```

#### 6. ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏≠‡∏ô ownership
```typescript
await logGroupActivity({
  groupId: group.id,
  type: 'ownership_transferred',
  actorId: oldOwnerId,
  targetId: newOwnerId,
  oldValue: oldOwnerId,
  newValue: newOwnerId
});
```

#### 7. ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡∏•‡∏∏‡πà‡∏°
```typescript
await logGroupActivity({
  groupId: group.id,
  type: 'group_name_changed',
  actorId: currentUserId,
  oldValue: 'Old Name',
  newValue: 'New Name'
});
```

#### 8. ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏π‡∏õ‡∏Å‡∏•‡∏∏‡πà‡∏°
```typescript
await logGroupActivity({
  groupId: group.id,
  type: 'group_avatar_changed',
  actorId: currentUserId,
  oldValue: 'old_avatar_url',
  newValue: 'new_avatar_url'
});
```

**Backend ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ä‡πá‡∏Ñ:**
- [ ] ‡∏°‡∏µ function/service ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å activity ‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á?
- [ ] ‡∏ó‡∏∏‡∏Å endpoint ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ logging ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?
- [ ] Logging ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÅ‡∏ö‡∏ö async (‡πÑ‡∏°‡πà block main flow) ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?
- [ ] ‡∏°‡∏µ‡∏Å‡∏≤‡∏£ handle error ‡∏ñ‡πâ‡∏≤ logging ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?

---

### ‚úÖ WebSocket Events for Activities

**Backend ‡∏ï‡πâ‡∏≠‡∏á broadcast event ‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ activity:**

```json
{
  "event": "group.activity.new",
  "data": {
    "groupId": "group_123",
    "activity": {
      "id": "act_123",
      "type": "member_promoted",
      "actor": {
        "id": "user_456",
        "name": "John Doe",
        "avatar": "https://..."
      },
      "target": {
        "id": "user_789",
        "name": "Jane Smith",
        "avatar": "https://..."
      },
      "oldValue": "member",
      "newValue": "admin",
      "createdAt": "2024-01-01T10:00:00Z"
    }
  }
}
```

**‡∏™‡πà‡∏á‡∏ñ‡∏∂‡∏á:** ‡∏ó‡∏∏‡∏Å‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÉ‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏¥‡∏î Activity Log ‡∏≠‡∏¢‡∏π‡πà

**‡πÄ‡∏ä‡πá‡∏Ñ:**
- [ ] WebSocket event ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö activity ‡πÉ‡∏´‡∏°‡πà‡∏°‡∏µ‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á?
- [ ] Format ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?
- [ ] ‡∏™‡πà‡∏á real-time ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ activity ‡πÉ‡∏´‡∏°‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?

---

### ‚úÖ Optional: Formatted Messages

**Backend ‡∏≠‡∏≤‡∏à‡∏™‡πà‡∏á formatted message ‡∏°‡∏≤‡πÄ‡∏•‡∏¢ (Frontend ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á format ‡πÄ‡∏≠‡∏á):**

```json
{
  "id": "act_123",
  "type": "member_promoted",
  "message": "John promoted Jane to admin",
  "messageLocalized": {
    "en": "John promoted Jane to admin",
    "th": "John ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå Jane ‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•"
  },
  "createdAt": "2024-01-01T10:00:00Z"
}
```

**‡πÄ‡∏ä‡πá‡∏Ñ:**
- [ ] Backend ‡∏à‡∏∞‡∏™‡πà‡∏á formatted message ‡∏°‡∏≤‡πÉ‡∏´‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?
- [ ] ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏´‡∏•‡∏≤‡∏¢‡∏†‡∏≤‡∏©‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?
- [ ] ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏´‡πâ Frontend format ‡πÄ‡∏≠‡∏á?

---

## üîç Security Checklist

**Backend ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö:**

### Authentication & Authorization
- [ ] ‡∏ó‡∏∏‡∏Å API ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ authentication (Bearer token)
- [ ] Validate ‡∏ß‡πà‡∏≤ user ‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏Ç‡∏≠‡∏á‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏Å‡πà‡∏≠‡∏ô‡∏ó‡∏≥ action
- [ ] Validate permission ‡∏ï‡∏≤‡∏° role (owner/admin/member)
- [ ] Return 401 Unauthorized ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ login
- [ ] Return 403 Forbidden ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå
- [ ] Return 404 Not Found ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Å‡∏•‡∏∏‡πà‡∏°/user

### Input Validation
- [ ] Validate groupId format (UUID, length, etc.)
- [ ] Validate userId format
- [ ] Validate role ‡πÄ‡∏õ‡πá‡∏ô enum ‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
- [ ] Validate pagination parameters (limit, offset)
- [ ] Sanitize input ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô SQL injection

### Business Logic Validation
- [ ] ‡∏´‡πâ‡∏≤‡∏° promote/demote owner
- [ ] ‡∏´‡πâ‡∏≤‡∏°‡πÇ‡∏≠‡∏ô ownership ‡πÉ‡∏´‡πâ‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á
- [ ] ‡∏´‡πâ‡∏≤‡∏°‡∏•‡∏ö owner ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏Å‡∏•‡∏∏‡πà‡∏°
- [ ] ‡∏´‡πâ‡∏≤‡∏°‡∏°‡∏µ owner ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 1 ‡∏Ñ‡∏ô
- [ ] Validate user ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏Å‡πà‡∏≠‡∏ô‡∏ó‡∏≥ action

### Logging & Monitoring
- [ ] Log ‡∏ó‡∏∏‡∏Å permission-related error
- [ ] Log ‡∏ó‡∏∏‡∏Å role change ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö audit
- [ ] Monitor suspicious activities (‡πÄ‡∏ä‡πà‡∏ô promote/demote ‡∏ö‡πà‡∏≠‡∏¢‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ)

---

## üß™ Testing Checklist

**Backend ‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥ unit tests ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö:**

### Role Management Tests
- [ ] ‚úÖ Owner promote member ‚Üí admin ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
- [ ] ‚úÖ Owner demote admin ‚Üí member ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
- [ ] ‚úÖ Owner transfer ownership ‚Üí ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô owner ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
- [ ] ‚ùå Admin promote member ‚Üí ‡πÑ‡∏î‡πâ 403 Forbidden
- [ ] ‚ùå Member promote ‚Üí ‡πÑ‡∏î‡πâ 403 Forbidden
- [ ] ‚ùå Demote owner ‚Üí ‡πÑ‡∏î‡πâ 400 Bad Request
- [ ] ‚ùå Transfer ownership ‡πÉ‡∏´‡πâ‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á ‚Üí ‡πÑ‡∏î‡πâ 400 Bad Request
- [ ] ‚ùå Remove owner ‚Üí ‡πÑ‡∏î‡πâ 400 Bad Request
- [ ] ‚úÖ Owner remove admin ‚Üí ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
- [ ] ‚úÖ Admin remove member ‚Üí ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
- [ ] ‚ùå Admin remove another admin ‚Üí ‡πÑ‡∏î‡πâ 403 Forbidden

### Activity Log Tests
- [ ] ‚úÖ Create group ‚Üí ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å activity
- [ ] ‚úÖ Add member ‚Üí ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å activity
- [ ] ‚úÖ Remove member ‚Üí ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å activity
- [ ] ‚úÖ Promote member ‚Üí ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å activity
- [ ] ‚úÖ Demote admin ‚Üí ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å activity
- [ ] ‚úÖ Transfer ownership ‚Üí ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å activity
- [ ] ‚úÖ Change group name ‚Üí ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å activity
- [ ] ‚úÖ GET /activities ‚Üí return ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- [ ] ‚úÖ Pagination ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
- [ ] ‚úÖ Filter by type ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

### WebSocket Tests
- [ ] ‚úÖ Role changed ‚Üí broadcast to all members
- [ ] ‚úÖ Member removed ‚Üí broadcast to all members
- [ ] ‚úÖ Ownership transferred ‚Üí broadcast to all members
- [ ] ‚úÖ New activity ‚Üí broadcast to group members

---

## üìä Response Summary

**Backend ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏ß‡πà‡∏≤:**

1. **API Endpoints:**
   - [ ] PUT `/api/groups/{groupId}/members/{userId}/role` - ‡∏°‡∏µ/‡πÑ‡∏°‡πà‡∏°‡∏µ
   - [ ] POST `/api/groups/{groupId}/transfer-ownership` - ‡∏°‡∏µ/‡πÑ‡∏°‡πà‡∏°‡∏µ
   - [ ] DELETE `/api/groups/{groupId}/members/{userId}` - ‡∏°‡∏µ/‡πÑ‡∏°‡πà‡∏°‡∏µ
   - [ ] GET `/api/groups/{groupId}/activities` - ‡∏°‡∏µ/‡πÑ‡∏°‡πà‡∏°‡∏µ

2. **Database:**
   - [ ] `group_members.role` column - ‡∏°‡∏µ/‡πÑ‡∏°‡πà‡∏°‡∏µ
   - [ ] `group_activities` table - ‡∏°‡∏µ/‡πÑ‡∏°‡πà‡∏°‡∏µ

3. **Permission System:**
   - [ ] Role-based permission validation - ‡∏°‡∏µ/‡πÑ‡∏°‡πà‡∏°‡∏µ
   - [ ] Owner/Admin/Member rules - ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á/‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç

4. **WebSocket Events:**
   - [ ] `group.member.role_changed` - ‡∏°‡∏µ/‡πÑ‡∏°‡πà‡∏°‡∏µ
   - [ ] `group.ownership_transferred` - ‡∏°‡∏µ/‡πÑ‡∏°‡πà‡∏°‡∏µ
   - [ ] `group.member.removed` - ‡∏°‡∏µ/‡πÑ‡∏°‡πà‡∏°‡∏µ
   - [ ] `group.activity.new` - ‡∏°‡∏µ/‡πÑ‡∏°‡πà‡∏°‡∏µ

5. **Activity Logging:**
   - [ ] Auto-log system - ‡∏°‡∏µ/‡πÑ‡∏°‡πà‡∏°‡∏µ
   - [ ] ‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å activity type ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà

6. **‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏°:**
   - ‡∏£‡∏∞‡∏ö‡∏∏‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÅ‡∏•‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥

---

## üìù ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Backend Team

1. **Database Schema:**
   - Table `group_members` ‡∏°‡∏µ column `role` ‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á‡∏Ñ‡∏£‡∏±‡∏ö?
   - Table `group_activities` ‡∏°‡∏µ‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á‡∏Ñ‡∏£‡∏±‡∏ö? ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà

2. **API Endpoints:**
   - API ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö promote/demote member ‡∏°‡∏µ‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á?
   - API ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö transfer ownership ‡∏°‡∏µ‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á?
   - API ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏î‡∏∂‡∏á activity log ‡∏°‡∏µ‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á?

3. **Permission System:**
   - ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡∏£‡∏∞‡∏ö‡∏ö permission validation ‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á?
   - Role-based access control ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£‡∏Ñ‡∏£‡∏±‡∏ö?

4. **WebSocket:**
   - WebSocket events ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö role management ‡∏°‡∏µ‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á?
   - WebSocket ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö activity log ‡∏°‡∏µ‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á?

5. **Activity Logging:**
   - ‡∏°‡∏µ service/function ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å activity ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á?
   - ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å action ‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á?

6. **Timeline:**
   - ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ ‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏ó‡∏≥‡πÄ‡∏™‡∏£‡πá‡∏à‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏´‡∏£‡πà‡∏Ñ‡∏£‡∏±‡∏ö?
   - ‡∏°‡∏µ‡∏≠‡∏∞‡πÑ‡∏£‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏à‡∏≤‡∏Å Frontend ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?

---

## üéØ ‡∏™‡∏£‡∏∏‡∏õ Priority

### Priority 1 (‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏Å‡πà‡∏≠‡∏ô Frontend ‡∏à‡∏∞‡∏ó‡∏≥‡πÑ‡∏î‡πâ):
1. ‚úÖ API: PUT `/api/groups/{groupId}/members/{userId}/role`
2. ‚úÖ API: POST `/api/groups/{groupId}/transfer-ownership`
3. ‚úÖ API: DELETE `/api/groups/{groupId}/members/{userId}`
4. ‚úÖ Permission validation system
5. ‚úÖ WebSocket events for role changes

### Priority 2 (‡∏Ñ‡∏ß‡∏£‡∏°‡∏µ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö UX ‡∏ó‡∏µ‡πà‡∏î‡∏µ):
1. ‚úÖ Table `group_activities`
2. ‚úÖ API: GET `/api/groups/{groupId}/activities`
3. ‚úÖ Auto-logging system
4. ‚úÖ WebSocket event: `group.activity.new`

### Nice to Have:
1. ‚≠ê Formatted activity messages from Backend
2. ‚≠ê Multi-language support
3. ‚≠ê Activity filtering ‡πÅ‡∏•‡∏∞ search

---

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:** ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡πâ‡∏≠ ‡πÜ ‡∏ß‡πà‡∏≤‡∏™‡πà‡∏ß‡∏ô‡πÑ‡∏´‡∏ô‡∏°‡∏µ‡πÅ‡∏•‡πâ‡∏ß ‡∏™‡πà‡∏ß‡∏ô‡πÑ‡∏´‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏° ‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Å‡∏≤‡∏£‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡∏Ñ‡∏£‡∏±‡∏ö üôè
